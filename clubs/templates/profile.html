{% extends  'base_content.html' %}
{% block content %}
    <div class="container">
        <div class="d-grid gap-3">
            <div class="row">
                <div class="col-sm-12 col-md-8 offset-md-2">
                    <ul class="list-group">
                        <li class="list-group-item">
                            <h2>{{user.first_name}} {{user.last_name}} <img src="{{ user.mini_gravatar }}" alt="Gravatar of {{ user.username }}" class="rounded-circle" ></h2>
                        </li>
                        <li class="list-group-item fs-4"> {{user.email}}</li>
                        <li class="list-group-item fs-4">Bio: 
                            <div class="card">
                                <div class="card-body fs-5">{{user.bio}}</div>
                            </div>
                        </li>
                        <li class="list-group-item fs-4">Experience level:  {{user.experience}}</li>
                        <li class="list-group-item fs-4">Personal statement:  
                            <div class="card">
                                <div class="card-body fs-5">{{user.personal_statement}}</div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            {% if is_current_user %}
                <div class="row">
                    <div class="col-sm-12 col-md-8 offset-md-2">
                        <a href={% url 'edit_profile' club_id=club_id user_id=user.id %}>
                            <button type="button" class="btn btn-primary">Edit profile</button>
                        </a> 
                    </div>
                </div>
            {% endif %}

            {% if user_role == 1 and request_user_role >= 3 %}
                <div class="row">
                    <div class="col-sm-12 col-md-8 offset-md-2">
                        <a href={% url 'approve_member' club_id=club_id applicant_id=user.id %}>
                            <button type="button" class="btn btn-success">Approve membership</button>
                        </a>
                    </div>
                </div>
            {% endif %} 

            {% if user_role == 2  %}
                {% if request_user_role == 4 %}
                    <div class="row">
                        <div class="col-sm-12 col-md-8 offset-md-2">
                            <a href={% url 'promote_member_to_officer' club_id=club_id member_id=user.id %}>
                                <button type="button" class="btn btn-primary">Promote to officer</button>
                            </a>
                        </div>
                    </div>
                {% endif %} 
            {% endif %} 

            {% if user_role == 3 %} 
                {% if request_user_role == 4 %}
                    <div class="row">
                        <div class="col-sm-12 col-md-8 offset-md-2">
                            <a href={% url 'demote_officer_to_member' club_id=club_id officer_id=user.id %}>
                                <button type="button" class="btn btn-primary">Demote to member</button>
                            </a>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12 col-md-8 offset-md-2">
                            <a href={% url 'transfer_ownership' club_id=club_id new_owner_id=user.id %}>
                                <button type="button" class="btn btn-primary">Transfer ownership</button>
                            </a>
                        </div>
                    </div>
                {% endif %} 
            {% endif %} 
        </div>
    </div>
{% endblock %}